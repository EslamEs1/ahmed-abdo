{% load slider_tags %}

<!-- Hero Banner / Slider for home page -->
<section class="hero-slider">
  <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      {% for slider in sliders %}
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="{{ forloop.counter0 }}" 
          class="{% if forloop.first %}active{% endif %}" 
          {% if forloop.first %}aria-current="true"{% endif %} 
          aria-label="Slide {{ forloop.counter }}"></button>
      {% empty %}
        <!-- Default indicators if no sliders are defined -->
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      {% endfor %}
    </div>
    
    <div class="carousel-inner">
      {% for slider in sliders %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="hero-slide" style="background-image: url('{{ slider.image.url }}');">
            <div class="container">
              <div class="row align-items-center justify-content-start h-100">
                <div class="col-12 col-md-6">
                  <div class="hero-content">
                    {% if slider.subtitle_ar %}<span class="hero-subtitle">{{ slider.subtitle_ar }}</span>{% endif %}
                    <h1 class="hero-title">{{ slider.title_ar }}</h1>
                    {% if slider.description_ar %}<p class="hero-text">{{ slider.description_ar }}</p>{% endif %}
                    
                    <div class="hero-features mb-4">
                      <div class="hero-feature">
                        <i class="bi bi-truck"></i>
                        <span>توصيل مجاني</span>
                      </div>
                      <div class="hero-feature">
                        <i class="bi bi-shield-check"></i>
                        <span>ضمان الجودة</span>
                      </div>
                    </div>
                    
                    {% if slider.link %}
                      <a href="{{ slider.link }}" class="btn btn-primary btn-lg">{{ slider.link_text_ar|default:"تسوق الآن" }}</a>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <!-- Default slides if no sliders are defined -->
        <div class="carousel-item active">
          <div class="hero-slide slide-1">
            <div class="container">
              <div class="row align-items-center justify-content-start h-100">
                <div class="col-12 col-md-6">
                  <div class="hero-content">
                    <span class="hero-subtitle">مجموعة جديدة</span>
                    <h1 class="hero-title">تشكيلة خريف ٢٠٢٣</h1>
                    <p class="hero-text">اكتشف أحدث صيحات الموضة المصرية بتصاميم عصرية مستوحاة من التراث</p>
                    <div class="hero-features mb-4">
                      <div class="hero-feature">
                        <i class="bi bi-truck"></i>
                        <span>توصيل مجاني</span>
                      </div>
                      <div class="hero-feature">
                        <i class="bi bi-shield-check"></i>
                        <span>ضمان الجودة</span>
                      </div>
                    </div>
                    <a href="#" class="btn btn-primary btn-lg">تسوق الآن</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="hero-slide slide-2">
            <div class="container">
              <div class="row align-items-center justify-content-end h-100">
                <div class="col-12 col-md-6">
                  <div class="hero-content">
                    <span class="hero-subtitle">خصومات حصرية</span>
                    <h1 class="hero-title">خصم حتى ٥٠٪</h1>
                    <p class="hero-text">تسوق أفضل العروض على تشكيلة واسعة من الملابس والإكسسوارات</p>
                    <div class="hero-features mb-4">
                      <div class="hero-feature">
                        <i class="bi bi-arrow-counterclockwise"></i>
                        <span>استبدال مجاني</span>
                      </div>
                      <div class="hero-feature">
                        <i class="bi bi-credit-card"></i>
                        <span>دفع آمن</span>
                      </div>
                    </div>
                    <a href="#" class="btn btn-primary btn-lg">اكتشف العروض</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="hero-slide slide-3">
            <div class="container">
              <div class="row align-items-center justify-content-start h-100">
                <div class="col-12 col-md-6">
                  <div class="hero-content">
                    <span class="hero-subtitle">تشكيلة الأطفال</span>
                    <h1 class="hero-title">أزياء الأطفال</h1>
                    <p class="hero-text">اكتشف تشكيلة متنوعة من ملابس الأطفال العصرية والمريحة</p>
                    <div class="hero-features mb-4">
                      <div class="hero-feature">
                        <i class="bi bi-stars"></i>
                        <span>جودة عالية</span>
                      </div>
                      <div class="hero-feature">
                        <i class="bi bi-heart"></i>
                        <span>تصاميم مريحة</span>
                      </div>
                    </div>
                    <a href="#" class="btn btn-primary btn-lg">تسوق للأطفال</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    
    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">السابق</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">التالي</span>
    </button>
  </div>
</section>